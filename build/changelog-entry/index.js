(()=>{"use strict";var e,a={844(){const e=window.wp.blocks,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"jechangelog/changelog-entry","version":"1.0.0","title":"Changelog Entry","category":"jechangelog","description":"A single changelog entry","parent":["jechangelog/changelog"],"textdomain":"jechangelog-block","supports":{"html":false,"reusable":false},"attributes":{"version":{"type":"string","default":"1.0.0"},"date":{"type":"string","default":""},"changes":{"type":"array","default":[]}},"editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style-index.css"}'),l=window.wp.i18n,n=window.wp.blockEditor,t=window.wp.components,s=window.wp.primitives,o=window.ReactJSXRuntime;var i=(0,o.jsx)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(s.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),r=(0,o.jsx)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(s.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),c=(0,o.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(s.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});const g=[{label:"âœ¨ New",value:"new"},{label:"ðŸ”§ Fix",value:"fix"},{label:"âš¡ Improved",value:"improved"},{label:"ðŸ”¥ Breaking",value:"breaking"},{label:"ðŸ—‘ï¸ Deprecated",value:"deprecated"}],h={new:{label:"New",class:"new"},fix:{label:"Fix",class:"fix"},improved:{label:"Improved",class:"improved"},breaking:{label:"Breaking",class:"breaking"},deprecated:{label:"Deprecated",class:"deprecated"}};(0,e.registerBlockType)(a.name,{...a,icon:"tag",edit:function({attributes:e,setAttributes:a}){const{version:s,date:h,changes:d}=e,p=(0,n.useBlockProps)({className:"jechangelog-entry"}),x=(e,l,n)=>{const t=[...d];t[e]={...t[e],[l]:n},a({changes:t})};return(0,o.jsxs)("div",{...p,children:[(0,o.jsxs)("div",{className:"jechangelog-entry__header",children:[(0,o.jsx)(t.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,l.__)("Version","jechangelog-block"),value:s,onChange:e=>a({version:e}),placeholder:"1.0.0"}),(0,o.jsx)(t.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,l.__)("Date","jechangelog-block"),value:h,onChange:e=>a({date:e}),placeholder:"2024-12-10",type:"date"})]}),(0,o.jsxs)("div",{className:"jechangelog-entry__changes",children:[d.map((e,s)=>(0,o.jsxs)("div",{className:"jechangelog-entry__change",style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"8px",width:"100%"},children:[(0,o.jsx)(t.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,value:e.type,options:g,onChange:e=>x(s,"type",e),style:{flex:"0 0 140px",width:"140px"}}),(0,o.jsx)("div",{className:"jechangelog-entry__change-text",style:{flex:"1 1 auto",minWidth:0,minHeight:"40px",display:"flex",alignItems:"center",background:"#ffffff",border:"1px solid #949494",borderRadius:"4px",padding:"0 12px"},children:(0,o.jsx)(n.RichText,{tagName:"span",value:e.text,onChange:e=>x(s,"text",e),placeholder:(0,l.__)("Describe the change...","jechangelog-block"),allowedFormats:["core/bold","core/italic","core/link","core/code","core/strikethrough"],style:{width:"100%",minHeight:"24px",lineHeight:"1.5",outline:"none"}})}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[(0,o.jsx)(t.Button,{icon:i,size:"small",onClick:()=>(e=>{if(0===e)return;const l=[...d];[l[e-1],l[e]]=[l[e],l[e-1]],a({changes:l})})(s),disabled:0===s,label:"Move up",style:{width:"24px",height:"20px",minWidth:"24px",padding:0,opacity:0===s?.3:1}}),(0,o.jsx)(t.Button,{icon:r,size:"small",onClick:()=>(e=>{if(e===d.length-1)return;const l=[...d];[l[e],l[e+1]]=[l[e+1],l[e]],a({changes:l})})(s),disabled:s===d.length-1,label:"Move down",style:{width:"24px",height:"20px",minWidth:"24px",padding:0,opacity:s===d.length-1?.3:1}})]}),(0,o.jsx)(t.Button,{icon:c,isDestructive:!0,onClick:()=>(e=>{a({changes:d.filter((a,l)=>l!==e)})})(s),label:"Remove",style:{flex:"0 0 36px",width:"36px",height:"36px"}})]},s)),(0,o.jsx)(t.Button,{variant:"secondary",onClick:()=>{a({changes:[...d,{type:"new",text:""}]})},children:(0,l.__)("+ Add Change","jechangelog-block")})]})]})},save:function({attributes:e}){const{version:a,date:l,changes:t}=e,s=n.useBlockProps.save({className:"jechangelog-entry"});return(0,o.jsxs)("div",{...s,children:[(0,o.jsxs)("div",{className:"jechangelog-entry__header",children:[(0,o.jsxs)("span",{className:"jechangelog-entry__version",children:["v",a]}),l&&(0,o.jsx)("span",{className:"jechangelog-entry__date",children:l})]}),t.length>0&&(0,o.jsx)("ul",{className:"jechangelog-entry__changes",children:t.map((e,a)=>(0,o.jsxs)("li",{className:"jechangelog-entry__change",children:[(0,o.jsx)("span",{className:`jechangelog-entry__badge jechangelog-entry__badge--${h[e.type]?.class}`,children:h[e.type]?.label}),(0,o.jsx)(n.RichText.Content,{tagName:"span",className:"jechangelog-entry__text",value:e.text})]},a))})]})}})}},l={};function n(e){var t=l[e];if(void 0!==t)return t.exports;var s=l[e]={exports:{}};return a[e](s,s.exports,n),s.exports}n.m=a,e=[],n.O=(a,l,t,s)=>{if(!l){var o=1/0;for(g=0;g<e.length;g++){for(var[l,t,s]=e[g],i=!0,r=0;r<l.length;r++)(!1&s||o>=s)&&Object.keys(n.O).every(e=>n.O[e](l[r]))?l.splice(r--,1):(i=!1,s<o&&(o=s));if(i){e.splice(g--,1);var c=t();void 0!==c&&(a=c)}}return a}s=s||0;for(var g=e.length;g>0&&e[g-1][2]>s;g--)e[g]=e[g-1];e[g]=[l,t,s]},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={465:0,957:0};n.O.j=a=>0===e[a];var a=(a,l)=>{var t,s,[o,i,r]=l,c=0;if(o.some(a=>0!==e[a])){for(t in i)n.o(i,t)&&(n.m[t]=i[t]);if(r)var g=r(n)}for(a&&a(l);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(g)},l=globalThis.webpackChunkjechangelog_block=globalThis.webpackChunkjechangelog_block||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))})();var t=n.O(void 0,[957],()=>n(844));t=n.O(t)})();