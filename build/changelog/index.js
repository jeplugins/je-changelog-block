(()=>{"use strict";var e,l={235(){const e=window.wp.blocks,l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"jechangelog/changelog","version":"1.0.0","title":"Changelog","category":"jechangelog","description":"Display version history and release notes","keywords":["changelog","release","version"],"textdomain":"jechangelog-block","supports":{"html":false,"align":["wide","full"]},"attributes":{"title":{"type":"string","default":"Changelog"},"showTitle":{"type":"boolean","default":true},"layout":{"type":"string","default":"timeline"},"theme":{"type":"string","default":"default"},"primaryColor":{"type":"string","default":"#4f46e5"},"badgeColors":{"type":"object","default":{"new":"#10b981","fix":"#ef4444","improved":"#3b82f6","breaking":"#f59e0b","deprecated":"#6b7280"}},"collapsible":{"type":"boolean","default":false},"defaultExpanded":{"type":"boolean","default":true},"enableAnchorLinks":{"type":"boolean","default":false},"enableFilter":{"type":"boolean","default":false},"enableShowMore":{"type":"boolean","default":false},"initialCount":{"type":"number","default":3}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js"}'),o=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,t=window.ReactJSXRuntime,r=window.jechangelogData?.isPro||!1,i=["jechangelog/changelog-entry"],c=[["jechangelog/changelog-entry",{}]],s={default:{label:"Default",primary:"#4f46e5",badges:{new:"#10b981",fix:"#ef4444",improved:"#3b82f6",breaking:"#f59e0b",deprecated:"#6b7280"}},ocean:{label:"Ocean",primary:"#0891b2",badges:{new:"#06b6d4",fix:"#f43f5e",improved:"#0ea5e9",breaking:"#fb923c",deprecated:"#64748b"}},forest:{label:"Forest",primary:"#059669",badges:{new:"#10b981",fix:"#dc2626",improved:"#0d9488",breaking:"#ca8a04",deprecated:"#57534e"}},sunset:{label:"Sunset",primary:"#dc2626",badges:{new:"#f97316",fix:"#e11d48",improved:"#ea580c",breaking:"#b91c1c",deprecated:"#78716c"}},purple:{label:"Purple",primary:"#7c3aed",badges:{new:"#a855f7",fix:"#ec4899",improved:"#8b5cf6",breaking:"#f472b6",deprecated:"#9ca3af"}},minimal:{label:"Minimal",primary:"#374151",badges:{new:"#6b7280",fix:"#4b5563",improved:"#374151",breaking:"#1f2937",deprecated:"#9ca3af"}}};(0,e.registerBlockType)(l.name,{...l,icon:"list-view",edit:function({attributes:e,setAttributes:l}){const{title:g,showTitle:d,layout:h,theme:b,primaryColor:p,badgeColors:j,collapsible:_,defaultExpanded:m,enableAnchorLinks:f,enableFilter:u,enableShowMore:x,initialCount:k}=e,y=(0,a.useBlockProps)({className:`jechangelog jechangelog--${h}${_?" jechangelog--collapsible":""}`,style:{"--je-primary":p,"--je-new":j.new,"--je-fix":j.fix,"--je-improved":j.improved,"--je-breaking":j.breaking,"--je-deprecated":j.deprecated}}),v=(e,o)=>{r&&l({badgeColors:{...j,[e]:o}})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.InspectorControls,{children:[!r&&(0,t.jsx)(n.PanelBody,{title:(0,o.__)("Get Pro Features","jechangelog-block"),initialOpen:!0,children:(0,t.jsxs)("div",{style:{color:"#1e3a5f"},children:[(0,t.jsx)("p",{style:{marginBottom:"12px"},children:(0,o.__)("Unlock all features:","jechangelog-block")}),(0,t.jsxs)("ul",{style:{color:"#374151",listStyle:"disc",paddingLeft:"20px",marginBottom:"16px",marginTop:"0"},children:[(0,t.jsx)("li",{children:"6 Color Themes"}),(0,t.jsx)("li",{children:"Custom Primary Color"}),(0,t.jsx)("li",{children:"Cards & Compact Layouts"}),(0,t.jsx)("li",{children:"Collapsible Sections"}),(0,t.jsx)("li",{children:"Anchor Links"}),(0,t.jsx)("li",{children:"Filter by Type"})]}),(0,t.jsxs)("a",{href:"https://jeplugins.github.io/changelog-block/",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",backgroundColor:"#2563eb",color:"#ffffff",padding:"8px 16px",borderRadius:"4px",textDecoration:"none",fontSize:"13px"},children:[(0,o.__)("Get Pro Version","jechangelog-block")," â†’"]})]})}),(0,t.jsxs)(n.PanelBody,{title:(0,o.__)("Settings","jechangelog-block"),children:[(0,t.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Show Title","jechangelog-block"),checked:d,onChange:e=>l({showTitle:e})}),(0,t.jsx)(n.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,o.__)("Layout","jechangelog-block"),value:h,options:[{label:"Timeline",value:"timeline"},{label:r?"Cards":"Cards (Pro)",value:"cards"},{label:r?"Compact":"Compact (Pro)",value:"compact"}],onChange:e=>{(r||"cards"!==e&&"compact"!==e)&&l({layout:e})}}),(0,t.jsxs)("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:[(0,t.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Enable Anchor Links","jechangelog-block"),help:r?(0,o.__)("Add #v1.0.0 links to each version","jechangelog-block"):(0,o.__)("Pro Feature","jechangelog-block"),checked:r&&f,onChange:e=>r&&l({enableAnchorLinks:e}),disabled:!r}),(0,t.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Enable Filter","jechangelog-block"),help:r?(0,o.__)("Show filter buttons by change type","jechangelog-block"):(0,o.__)("Pro Feature","jechangelog-block"),checked:r&&u,onChange:e=>r&&l({enableFilter:e}),disabled:!r})]})]}),(0,t.jsxs)(n.PanelBody,{title:r?(0,o.__)("Show More/Less","jechangelog-block"):(0,o.__)("Show More/Less (Pro)","jechangelog-block"),initialOpen:!1,children:[(0,t.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Enable Show More","jechangelog-block"),help:r?(0,o.__)("Limit visible entries with a load more button","jechangelog-block"):(0,o.__)("Pro Feature","jechangelog-block"),checked:r&&x,onChange:e=>r&&l({enableShowMore:e}),disabled:!r}),r&&x&&(0,t.jsx)(n.RangeControl,{label:(0,o.__)("Initial entries to show","jechangelog-block"),value:k,onChange:e=>l({initialCount:e}),min:1,max:10})]}),(0,t.jsxs)(n.PanelBody,{title:r?(0,o.__)("Accordion","jechangelog-block"):(0,o.__)("Accordion (Pro)","jechangelog-block"),initialOpen:!1,children:[(0,t.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Enable Collapsible","jechangelog-block"),help:r?(0,o.__)("Allow users to expand/collapse each version","jechangelog-block"):(0,o.__)("Pro Feature","jechangelog-block"),checked:r&&_,onChange:e=>r&&l({collapsible:e}),disabled:!r}),r&&_&&(0,t.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Default Expanded","jechangelog-block"),help:(0,o.__)("Show all entries expanded by default","jechangelog-block"),checked:m,onChange:e=>l({defaultExpanded:e})})]}),(0,t.jsxs)(n.PanelBody,{title:r?(0,o.__)("Color Theme","jechangelog-block"):(0,o.__)("Color Theme (Pro)","jechangelog-block"),initialOpen:!1,children:[(0,t.jsx)("p",{style:{marginBottom:"8px",fontWeight:500},children:(0,o.__)("Preset Themes","jechangelog-block")}),(0,t.jsx)(n.ButtonGroup,{style:{marginBottom:"16px",flexWrap:"wrap",gap:"8px"},children:Object.entries(s).map(([e,o])=>(0,t.jsxs)(n.Button,{variant:b===e?"primary":"secondary",onClick:()=>(e=>{if(!r&&"default"!==e)return;const o=s[e];l({theme:e,primaryColor:o.primary,badgeColors:o.badges})})(e),disabled:!r&&"default"!==e,style:{borderColor:o.primary,...b===e&&{backgroundColor:o.primary},...!r&&"default"!==e&&{opacity:.5}},children:[o.label," ",!r&&"default"!==e&&"(Pro)"]},e))})]}),r&&(0,t.jsx)(a.PanelColorSettings,{title:(0,o.__)("Custom Colors","jechangelog-block"),initialOpen:!1,colorSettings:[{value:p,onChange:e=>l({primaryColor:e||"#4f46e5"}),label:(0,o.__)("Primary Color","jechangelog-block")},{value:j.new,onChange:e=>v("new",e||"#10b981"),label:(0,o.__)("New Badge","jechangelog-block")},{value:j.fix,onChange:e=>v("fix",e||"#ef4444"),label:(0,o.__)("Fix Badge","jechangelog-block")},{value:j.improved,onChange:e=>v("improved",e||"#3b82f6"),label:(0,o.__)("Improved Badge","jechangelog-block")},{value:j.breaking,onChange:e=>v("breaking",e||"#f59e0b"),label:(0,o.__)("Breaking Badge","jechangelog-block")},{value:j.deprecated,onChange:e=>v("deprecated",e||"#6b7280"),label:(0,o.__)("Deprecated Badge","jechangelog-block")}]})]}),(0,t.jsxs)("div",{...y,children:[d&&(0,t.jsx)(a.RichText,{tagName:"h2",className:"jechangelog__title",value:g,onChange:e=>l({title:e}),placeholder:(0,o.__)("Changelog","jechangelog-block")}),r&&u&&(0,t.jsxs)("div",{className:"jechangelog__filter jechangelog__filter--preview",children:[(0,t.jsx)("button",{className:"jechangelog__filter-btn jechangelog__filter-btn--active",children:"All"}),(0,t.jsx)("button",{className:"jechangelog__filter-btn",children:"New"}),(0,t.jsx)("button",{className:"jechangelog__filter-btn",children:"Fix"}),(0,t.jsx)("button",{className:"jechangelog__filter-btn",children:"Improved"})]}),(0,t.jsx)("div",{className:"jechangelog__list",children:(0,t.jsx)(a.InnerBlocks,{allowedBlocks:i,template:c,templateLock:!1})}),r&&x&&(0,t.jsx)("div",{className:"jechangelog__show-more jechangelog__show-more--preview",children:(0,t.jsxs)("button",{className:"jechangelog__show-more-btn",children:["Show More (",k," entries visible)"]})})]})]})},save:function({attributes:e}){const{title:l,showTitle:o,layout:n,primaryColor:r,badgeColors:i,collapsible:c,defaultExpanded:s,enableAnchorLinks:g,enableFilter:d,enableShowMore:h,initialCount:b}=e,p=a.useBlockProps.save({className:`jechangelog jechangelog--${n}${c?" jechangelog--collapsible":""}${g?" jechangelog--has-anchors":""}${d?" jechangelog--has-filter":""}${h?" jechangelog--has-show-more":""}`,style:{"--je-primary":r,"--je-new":i.new,"--je-fix":i.fix,"--je-improved":i.improved,"--je-breaking":i.breaking,"--je-deprecated":i.deprecated},"data-collapsible":c,"data-default-expanded":s,"data-anchor-links":g,"data-filter":d,"data-show-more":h,"data-initial-count":b});return(0,t.jsxs)("div",{...p,children:[o&&l&&(0,t.jsx)(a.RichText.Content,{tagName:"h2",className:"jechangelog__title",value:l}),d&&(0,t.jsx)("div",{className:"jechangelog__filter"}),(0,t.jsx)("div",{className:"jechangelog__list",children:(0,t.jsx)(a.InnerBlocks.Content,{})}),h&&(0,t.jsx)("div",{className:"jechangelog__show-more"})]})}})}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={exports:{}};return l[e](t,t.exports,a),t.exports}a.m=l,e=[],a.O=(l,o,n,t)=>{if(!o){var r=1/0;for(g=0;g<e.length;g++){for(var[o,n,t]=e[g],i=!0,c=0;c<o.length;c++)(!1&t||r>=t)&&Object.keys(a.O).every(e=>a.O[e](o[c]))?o.splice(c--,1):(i=!1,t<r&&(r=t));if(i){e.splice(g--,1);var s=n();void 0!==s&&(l=s)}}return l}t=t||0;for(var g=e.length;g>0&&e[g-1][2]>t;g--)e[g]=e[g-1];e[g]=[o,n,t]},a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={234:0,726:0};a.O.j=l=>0===e[l];var l=(l,o)=>{var n,t,[r,i,c]=o,s=0;if(r.some(l=>0!==e[l])){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var g=c(a)}for(l&&l(o);s<r.length;s++)t=r[s],a.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return a.O(g)},o=globalThis.webpackChunkjechangelog_block=globalThis.webpackChunkjechangelog_block||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var n=a.O(void 0,[726],()=>a(235));n=a.O(n)})();